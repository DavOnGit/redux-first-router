!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ReduxFirstRouter=t():e.ReduxFirstRouter=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e,t,n){"use strict";var r=n(5),i=n(6),o=n(4);e.exports={formats:o,parse:i,stringify:r}},function(e,t){e.exports=l,e.exports.parse=o,e.exports.compile=function(e,t){return a(o(e,t))},e.exports.tokensToFunction=a,e.exports.tokensToRegExp=s;var n="/",r="./",i=/(\\.)|(?:\:(\w+)(?:\(((?:\\.|[^\\()])+)\))?|\(((?:\\.|[^\\()])+)\))([+*?])?/g;function o(e,t){for(var o,a=[],f=0,s=0,l="",d=t&&t.delimiter||n,p=t&&t.delimiters||r,h=!1;null!==(o=i.exec(e));){var y=o[0],v=o[1],m=o.index;if(l+=e.slice(s,m),s=m+y.length,v)l+=v[1],h=!0;else{var b="",x=e[s],g=o[2],w=o[3],O=o[4],_=o[5];if(!h&&l.length){var k=l.length-1;p.indexOf(l[k])>-1&&(b=l[k],l=l.slice(0,k))}l&&(a.push(l),l="",h=!1);var P=""!==b&&x!==undefined&&x!==b,j=b||d,A=w||O;a.push({name:g||f++,prefix:b,delimiter:j,optional:"?"===_||"*"===_,repeat:"+"===_||"*"===_,partial:P,pattern:A?c(A):"[^"+u(j)+"]+?"})}}return(l||e.length>s)&&a.push(l+e.substr(s)),a}function a(e){for(var t=Array(e.length),n=0;e.length>n;n++)"object"==typeof e[n]&&(t[n]=RegExp("^(?:"+e[n].pattern+")$"));return function(n,r){for(var i="",o=r&&r.encode||encodeURIComponent,a=0;e.length>a;a++){var u=e[a];if("string"!=typeof u){var c,f=n?n[u.name]:undefined;if(Array.isArray(f)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but got array');if(0===f.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var s=0;f.length>s;s++){if(c=o(f[s],u),!t[a].test(c))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'"');i+=(0===s?u.prefix:u.delimiter)+c}}else if("string"!=typeof f&&"number"!=typeof f&&"boolean"!=typeof f){if(!u.optional)throw new TypeError('Expected "'+u.name+'" to be '+(u.repeat?"an array":"a string"));u.partial&&(i+=u.prefix)}else{if(c=o(f+"",u),!t[a].test(c))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but got "'+c+'"');i+=u.prefix+c}}else i+=u}return i}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function f(e){return e&&e.sensitive?"":"i"}function s(e,t,i){for(var o=(i=i||{}).strict,a=!1!==i.end,c=u(i.delimiter||n),s=i.delimiters||r,l=[].concat(i.endsWith||[]).map(u).concat("$").join("|"),d="",p=0===e.length,h=0;e.length>h;h++){var y=e[h];if("string"==typeof y)d+=u(y),p=h===e.length-1&&s.indexOf(y[y.length-1])>-1;else{var v=u(y.prefix),m=y.repeat?"(?:"+y.pattern+")(?:"+v+"(?:"+y.pattern+"))*":y.pattern;t&&t.push(y),d+=y.optional?y.partial?v+"("+m+")?":"(?:"+v+"("+m+"))?":v+"("+m+")"}}return a?(o||(d+="(?:"+c+")?"),d+="$"===l?"$":"(?="+l+")"):(o||(d+="(?:"+c+"(?="+l+"))?"),p||(d+="(?="+c+"|"+l+")")),RegExp("^"+d,f(i))}function l(e,t,n){return e instanceof RegExp?function(e,t){if(!t)return e;var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;n.length>r;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,pattern:null});return e}(e,t):Array.isArray(e)?function(e,t,n){for(var r=[],i=0;e.length>i;i++)r.push(l(e[i],t,n).source);return RegExp("(?:"+r.join("|")+")",f(n))}(e,t,n):function(e,t,n){return s(o(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";!function(e){n.d(t,"a",function(){return i});var r=function(e,t){0},i=function(e){var t=e.errorType,n=e.error,i=e.dispatch;return r(),i({type:t,error:n})}}()},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,i=function(){for(var e=[],t=0;256>t;++t)e.push("%"+((16>t?"0":"")+t.toString(16)).toUpperCase());return e}(),o=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;e.length>r;++r)"undefined"!=typeof e[r]&&(n[r]=e[r]);return n};e.exports={arrayToObject:o,assign:function(e,t){return Object.keys(t).reduce(function(e,n){return e[n]=t[n],e},e)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;t.length>r;++r)for(var i=t[r],o=i.obj[i.prop],a=Object.keys(o),u=0;a.length>u;++u){var c=a[u],f=o[c];"object"==typeof f&&null!==f&&-1===n.indexOf(f)&&(t.push({obj:o,prop:c}),n.push(f))}return function(e){for(var t;e.length;){var n=e.pop();if(Array.isArray(t=n.obj[n.prop])){for(var r=[],i=0;t.length>i;++i)"undefined"!=typeof t[i]&&r.push(t[i]);n.obj[n.prop]=r}}return t}(t)},decode:function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},encode:function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:e+"",n="",r=0;t.length>r;++r){var o=t.charCodeAt(r);45!==o&&46!==o&&95!==o&&126!==o&&(48>o||o>57)&&(65>o||o>90)&&(97>o||o>122)?128>o?n+=i[o]:2048>o?n+=i[192|o>>6]+i[128|63&o]:o>=55296&&57344>o?(o=65536+((1023&o)<<10|1023&t.charCodeAt(r+=1)),n+=i[240|o>>18]+i[128|o>>12&63]+i[128|o>>6&63]+i[128|63&o]):n+=i[224|o>>12]+i[128|o>>6&63]+i[128|63&o]:n+=t.charAt(r)}return n},isBuffer:function(e){return null!=e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function a(e,t,n){if(!t)return e;if("object"!=typeof t){if(Array.isArray(e))e.push(t);else{if("object"!=typeof e)return[e,t];(n.plainObjects||n.allowPrototypes||!r.call(Object.prototype,t))&&(e[t]=!0)}return e}if("object"!=typeof e)return[e].concat(t);var i=e;return Array.isArray(e)&&!Array.isArray(t)&&(i=o(e,n)),Array.isArray(e)&&Array.isArray(t)?(t.forEach(function(t,i){r.call(e,i)?e[i]&&"object"==typeof e[i]?e[i]=a(e[i],t,n):e.push(t):e[i]=t}),e):Object.keys(t).reduce(function(e,i){var o=t[i];return e[i]=r.call(e,i)?a(e[i],o,n):o,e},i)}}},function(e,t,n){"use strict";var r=String.prototype.replace,i=/%20/g;e.exports={"default":"RFC3986",formatters:{RFC1738:function(e){return r.call(e,i,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},function(e,t,n){"use strict";var r=n(3),i=n(4),o={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},a=Date.prototype.toISOString,u={delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,serializeDate:function(e){return a.call(e)},skipNulls:!1,strictNullHandling:!1},c=function f(e,t,n,i,o,a,c,s,l,d,p,h){var y=e;if("function"==typeof c)y=c(t,y);else if(y instanceof Date)y=d(y);else if(null===y){if(i)return a&&!h?a(t,u.encoder):t;y=""}if("string"==typeof y||"number"==typeof y||"boolean"==typeof y||r.isBuffer(y))return a?[p(h?t:a(t,u.encoder))+"="+p(a(y,u.encoder))]:[p(t)+"="+p(y+"")];var v,m=[];if(void 0===y)return m;if(Array.isArray(c))v=c;else{var b=Object.keys(y);v=s?b.sort(s):b}for(var x=0;v.length>x;++x){var g=v[x];o&&null===y[g]||(m=m.concat(f(y[g],Array.isArray(y)?n(t,g):t+(l?"."+g:"["+g+"]"),n,i,o,a,c,s,l,d,p,h)))}return m};e.exports=function(e,t){var n=e,a=t?r.assign({},t):{};if(null!==a.encoder&&a.encoder!==undefined&&"function"!=typeof a.encoder)throw new TypeError("Encoder has to be a function.");var f="undefined"==typeof a.delimiter?u.delimiter:a.delimiter,s="boolean"==typeof a.strictNullHandling?a.strictNullHandling:u.strictNullHandling,l="boolean"==typeof a.skipNulls?a.skipNulls:u.skipNulls,d="boolean"==typeof a.encode?a.encode:u.encode,p="function"==typeof a.encoder?a.encoder:u.encoder,h="function"==typeof a.sort?a.sort:null,y="undefined"!=typeof a.allowDots&&a.allowDots,v="function"==typeof a.serializeDate?a.serializeDate:u.serializeDate,m="boolean"==typeof a.encodeValuesOnly?a.encodeValuesOnly:u.encodeValuesOnly;if("undefined"==typeof a.format)a.format=i["default"];else if(!Object.prototype.hasOwnProperty.call(i.formatters,a.format))throw new TypeError("Unknown format option provided.");var b,x,g=i.formatters[a.format];"function"==typeof a.filter?n=(x=a.filter)("",n):Array.isArray(a.filter)&&(b=x=a.filter);var w=[];if("object"!=typeof n||null===n)return"";var O=o[a.arrayFormat in o?a.arrayFormat:"indices"in a?a.indices?"indices":"repeat":"indices"];b||(b=Object.keys(n)),h&&b.sort(h);for(var _=0;b.length>_;++_){var k=b[_];l&&null===n[k]||(w=w.concat(c(n[k],k,O,s,l,d?p:null,x,h,y,v,g,m)))}var P=w.join(f);return P.length>0?(!0===a.addQueryPrefix?"?":"")+P:""}},function(e,t,n){"use strict";var r=n(3),i=Object.prototype.hasOwnProperty,o={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:r.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},a=function(e,t,n){if(e){var r=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,a=/(\[[^[\]]*])/.exec(r),u=a?r.slice(0,a.index):r,c=[];if(u){if(!n.plainObjects&&i.call(Object.prototype,u)&&!n.allowPrototypes)return;c.push(u)}for(var f=0;null!==(a=o.exec(r))&&n.depth>f;){if(f+=1,!n.plainObjects&&i.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(a[1])}return a&&c.push("["+r.slice(a.index)+"]"),function(e,t,n){for(var r=t,i=e.length-1;i>=0;--i){var o,a=e[i];if("[]"===a)o=(o=[]).concat(r);else{o=n.plainObjects?Object.create(null):{};var u="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,c=parseInt(u,10);isNaN(c)||a===u||c+""!==u||0>c||!n.parseArrays||c>n.arrayLimit?o[u]=r:(o=[])[c]=r}r=o}return r}(c,t,n)}};e.exports=function(e,t){var n=t?r.assign({},t):{};if(null!==n.decoder&&n.decoder!==undefined&&"function"!=typeof n.decoder)throw new TypeError("Decoder has to be a function.");if(n.ignoreQueryPrefix=!0===n.ignoreQueryPrefix,n.delimiter="string"==typeof n.delimiter||r.isRegExp(n.delimiter)?n.delimiter:o.delimiter,n.depth="number"==typeof n.depth?n.depth:o.depth,n.arrayLimit="number"==typeof n.arrayLimit?n.arrayLimit:o.arrayLimit,n.parseArrays=!1!==n.parseArrays,n.decoder="function"==typeof n.decoder?n.decoder:o.decoder,n.allowDots="boolean"==typeof n.allowDots?n.allowDots:o.allowDots,n.plainObjects="boolean"==typeof n.plainObjects?n.plainObjects:o.plainObjects,n.allowPrototypes="boolean"==typeof n.allowPrototypes?n.allowPrototypes:o.allowPrototypes,n.parameterLimit="number"==typeof n.parameterLimit?n.parameterLimit:o.parameterLimit,n.strictNullHandling="boolean"==typeof n.strictNullHandling?n.strictNullHandling:o.strictNullHandling,""===e||null==e)return n.plainObjects?Object.create(null):{};for(var u="string"==typeof e?function(e,t){for(var n={},r=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,a=t.parameterLimit===Infinity?undefined:t.parameterLimit,u=r.split(t.delimiter,a),c=0;u.length>c;++c){var f,s,l=u[c],d=l.indexOf("]="),p=-1===d?l.indexOf("="):d+1;-1===p?(f=t.decoder(l,o.decoder),s=t.strictNullHandling?null:""):(f=t.decoder(l.slice(0,p),o.decoder),s=t.decoder(l.slice(p+1),o.decoder)),n[f]=i.call(n,f)?[].concat(n[f]).concat(s):s}return n}(e,n):e,c=n.plainObjects?Object.create(null):{},f=Object.keys(u),s=0;f.length>s;++s){var l=f[s],d=a(l,u[l],n);c=r.merge(c,d,n)}return r.compact(c)}},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=function(e,t){return(t||"@@rudy")+"/"+e},a=o("CALL_HISTORY"),u=(o("NOT_FOUND"),o("ADD_ROUTES")),c=o("CHANGE_BASENAME"),f=o("CLEAR_CACHE"),s=o("CONFIRM"),l=o("BLOCK","@@skiprudy"),d=o("UNBLOCK","@@skiprudy"),p=o("SET_FROM","@@skiprudy"),h=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:302;return{...e,location:{...e.location,status:t,kind:"replace"}}},y=function(e,t){return{type:t||"NOT_FOUND",state:e}},v=function(e){return e&&(e.type||e.hasOwnProperty("state")||e.params||e.query||e.hash!==undefined||e.basename!==undefined||e.payload||e.meta)},m=function(e){var t="string"==typeof e?e:e.type||"";return t.indexOf("NOT_FOUND")>-1&&-1===t.indexOf("NOT_FOUND_")},b=function(){return!("undefined"!=typeof window&&window.document&&window.document.createElement)},x=function(e){return!(!e||!e.location||"replace"!==e.location.kind&&!e.location.from)},g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w=function(e,t,n){var r=t.routes,i=t.options,o=e.params,a=e.query,u=e.state,c=e.hash,f=e.basename,s=r[e.type]||{},l="object"===(void 0===s?"undefined":g(s))?s.path:s,d=O(o,s,i),p=k(a,s,i),h=j(u,s,i),y=P(c,s,i),v=Be(f),m=v&&!i.basenames.includes(v);""===f&&(h._emptyBn=!0);try{if(m)throw Error('[rudy] basename "'+v+'" not in options.basenames');return{url:v+(de(l,d,p,y,s,i)||"/"),state:h}}catch(b){return{url:(m?"":v)+A(e,r,i,p,y,n),state:h}}},O=function(e,t,n){var r=t.defaultParams||n.defaultParams;if(e=r?"function"==typeof r?r(e,t,n):{...r,...e}:e){var i={},o=t.toPath||_;for(var a in e){var u=e[a],c=o(u,a,encodeURIComponent(u),t,n);i[a]=c}return i}},_=function(e,t,n,r,i){return"string"==typeof e&&e.indexOf("/")>-1?e.split("/").map(encodeURIComponent):"string"==typeof e&&e.indexOf("/")>-1?e.split("/").map(encodeURIComponent):(r.capitalizedWords||i.capitalizedWords&&!1!==r.capitalizedWords)&&"string"==typeof e?e.replace(/ /g,"-").toLowerCase():i.toPath?i.toPath(e,t,n,r,i):e===undefined?undefined:n},k=function(e,t,n){var r=t.defaultQuery||n.defaultQuery;e=r?"function"==typeof r?r(e,t,n):{...r,...e}:e;var i=t.toSearch||n.toSearch;if(i&&e){var o={};for(var a in e)o[a]=i(e[a],a,t,n);return o}return e},P=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"",t=arguments[1],n=arguments[2],r=t.defaultHash||n.defaultHash;e=r?"function"==typeof r?r(e,t,n):e||r:e;var i=t.toHash||n.toHash;return i?i(e,t,n):e},j=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=arguments[1],n=arguments[2],r=t.defaultState||n.defaultState;return r?"function"==typeof r?r(e,t,n):{...r,...e}:e},A=function(e,t,n,r,i){var o=arguments.length>5&&arguments[5]!==undefined?arguments[5]:"",a=e.type||"",u=t[a]||{},c=a.indexOf("/NOT_FOUND")>-1,f=u.scene||o.scene||"";return(t[c?a:t[f+"/NOT_FOUND"]?f+"/NOT_FOUND":"NOT_FOUND"].path||t.NOT_FOUND.path||"")+(r?n.stringifyQuery(r,{addQueryPrefix:!0}):"")+(i?"#"+i:"")};function E(e){return"/"===e.charAt(0)}function S(e,t){for(var n=t,r=n+1,i=e.length;i>r;n+=1,r+=1)e[n]=e[r];e.pop()}var N=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"",n=e&&e.split("/")||[],r=t&&t.split("/")||[],i=e&&E(e),o=t&&E(t),a=i||o;if(e&&E(e)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var u=void 0;if(r.length){var c=r[r.length-1];u="."===c||".."===c||""===c}else u=!1;for(var f=0,s=r.length;s>=0;s--){var l=r[s];"."===l?S(r,s):".."===l?(S(r,s),f++):f&&(S(r,s),f--)}if(!a)for(;f--;f)r.unshift("..");!a||""===r[0]||r[0]&&E(r[0])||r.unshift("");var d=r.join("/");return u&&"/"!==d.substr(-1)&&(d+="/"),d},R=function(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:Q(),i=e.getLocation,o=e.routes,a=e.options,u=i?i():{},c=B(t,a,n,u),f=c.basename,s=c.slashBasename,l=D(t,a,s,u),d=T(l,o,a,n,u);return{...d,basename:f,location:{key:r,scene:o[d.type].scene||"",url:s+K(l),pathname:l.pathname,search:l.search}}},D=function(e,t,n,r){return e=e?r.pathname&&"/"!==e.charAt(0)?N(e,r.pathname):M(e,n):r.pathname||"/",V(e)},T=function(e,t,n){for(var r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{},i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{},o=Object.keys(t).filter(function(e){return t[e].path}),a=0;o.length>a;a++){var u=o[a],c=t[u],f=te(e,c,{formatParams:L,formatQuery:U,formatHash:C},c,n);if(f)return{type:u,params:f.params,query:f.query,hash:f.hash,state:H(r,c,n)}}var s=(t[i.type]||{}).scene;return{...y(r,t[s+"/NOT_FOUND"]&&s+"/NOT_FOUND"),params:{},query:e.search?I(e.search,t,n):{},hash:e.hash||""}},L=function(e,t,n){var r=t.fromPath||F;for(var i in e){var o=e[i];e[i]=r(o&&decodeURIComponent(o),i,o,t,n),e[i]===undefined&&(delete e[i],undefined)}var a=t.defaultParams||n.defaultParams;return a?"function"==typeof a?a(e,t,n):{...a,...e}:e},F=function(e,t,n,r,i){return(r.convertNumbers||i.convertNumbers&&!1!==r.convertNumbers)&&q(e)?parseFloat(e):r.capitalizedWords||i.capitalizedWords&&!1!==r.capitalizedWords?e.replace(/-/g," ").replace(/\b\w/g,function(e){return e.toUpperCase()}):i.fromPath?i.fromPath(e,t,n,r,i):e},U=function(e,t,n){var r=t.fromSearch||n.fromSearch;if(r)for(var i in e)e[i]=r(e[i],i,t,n),e[i]===undefined&&(delete e[i],undefined);var o=t.defaultQuery||n.defaultQuery;return o?"function"==typeof o?o(e,t,n):{...o,...e}:e},C=function(e,t,n){var r=t.fromHash||n.fromHash;e=r?r(e,t,n):e;var i=t.defaultHash||n.defaultHash;return i?"function"==typeof i?i(e,t,n):e||i:e},H=function(e,t,n){var r=t.defaultState||n.defaultState;return r?"function"==typeof r?r(e,t,n):{...r,...e}:e},q=function(e){return!isNaN(e)&&!isNaN(parseFloat(e))},I=function(e,t,n){return(t.NOT_FOUND.parseSearch||n.parseSearch)(e)},B=function(e,t,n,r){var i=n._emptyBn?"":z(e,t.basenames)||r.basename,o=Be(i),a=o.replace(/^\//,"");return delete n._emptyBn,{basename:a,slashBasename:o}},M=function(e,t){return 0===e.indexOf(t)?e.substr(t.length):e},z=function(e){return(arguments.length>1&&arguments[1]!==undefined?arguments[1]:[]).find(function(t){return 0===e.indexOf(t)})},Q=function(){return Math.random().toString(36).substr(2,6)},$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=undefined;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){i=!0,o=c}finally{try{!r&&u["return"]&&u["return"]()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Z=function(e,t,n,r){if(Array.isArray(t)){var i=G(t,3);return R(e,i[0],i[1],i[2])}if("object"===(void 0===t?"undefined":$(t))){var o=t.location&&t.location.key,a=w(t,e);return R(e,a.url,a.state,o)}return R(e,t,n,r)},K=function(e){if("string"==typeof e)return e;var t=e.search,n=e.hash,r=e.pathname||"/";return t&&"?"!==t&&(r+="?"===t.charAt(0)?t:"?"+t),n&&"#"!==n&&(r+="#"===n.charAt(0)?n:"#"+n),r},W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V=function(e){return"object"===(void 0===e?"undefined":W(e))&&e.pathname!==undefined?e:function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i+1),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o+1),t=t.substr(0,o)),{pathname:t=t||"/",search:n,hash:r}}(e)},J=function(e,t){var n=e.type,r=n===undefined?"":n;return t.routes[r]||r.indexOf("@@rudy")>-1},Y=n(1),X=n.n(Y),ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var te=function(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},r=arguments[3],i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{},o=V(e),a=o.search,u=o.hash,c=ne(o.pathname,t.path,n),f=c.match,s=c.keys;if(!f)return null;var l=re(a,t.query,r,i);if(!l)return null;var d=ie(u,t.hash,r,i);if(null===d)return null;var p,h=Array.isArray(p=f)?p:Array.from(p),y=h[0],v=h.slice(1),m=s.reduce(function(e,t,n){return e[t.name]=v[n],e},{}),b=n.formatParams,x=n.formatQuery,g=n.formatHash;return{params:b?b(m,r,i):m,query:x?x(l,r,i):l,hash:g?g(d||"",r,i):d||"",matchedPath:"/"===t.path&&""===y?"/":y,matchers:t,partial:!!n.partial}},ne=function(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},r=se(t,n),i=r.keys,o=r.re.exec(e);return!o||n.exact&&o[0]!==e?{}:{match:o,keys:i}},re=function(e,t,n,r){var i=e?ae(e,n,r):{};if(!t)return i;for(var o in t){if(!oe(i[o],t[o],o,n,r))return null}return i},ie=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"",t=arguments[1];return t===undefined?e:oe(e,t,"hash",arguments[2],arguments[3])?e:null},oe=function(e,t,n,r,i){var o=void 0===t?"undefined":ee(t);return"boolean"===o?!0===t?""!==e&&e!==undefined:e===undefined||""===e:"string"===o?t===e:"function"===o?"hash"===n?t(e,r,i):t(e,n,r,i):!(t instanceof RegExp)||t.test(e)},ae=function(e,t,n){return ue[e]?ue[e]:ue[e]=(t.parseSearch||n.parseSearch)(e)},ue={},ce={},fe=0,se=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=t.partial,r=n!==undefined&&n,i=t.strict,o=i!==undefined&&i,a=(r?"t":"f")+(o?"t":"f"),u=ce[a]||(ce[a]={});if(u[e])return u[e];var c=[],f={re:X()(e,c,{end:!r,strict:o}),keys:c};return 1e4>fe&&(u[e]=f,fe++),f},le={},de=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=arguments[2],r=arguments[3],i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{},o=arguments[5],a=n?pe(n,i,o):"";if(i.query&&!re(a,i.query,i,o))throw Error("[rudy] invalid query object");if(i.hash!==undefined&&null==ie(r,i.hash,i,o))throw Error("[rudy] invalid hash value");return(le[e]=le[e]||Object(Y.compile)(e))(t,{encode:function(e){return e}})+(a?"?"+a:"")+(r?"#"+r:"")},pe=function(e,t,n){return(t.stringifyQuery||n.stringifyQuery)(e)},he=function(e,t,n){for(var r in t){var i=t[r],o=ye(e,t,i[e],i,n);o&&(i[e]=o)}return t},ye=function ln(e,t,n,r,i){if("function"==typeof n)return n;if(Array.isArray(n)){var o=n.map(function(n){return function(i,o){return n=ln(e,t,n,r),Promise.resolve(n(i)).then(ve(o))}});return i.compose(o,null,!!r.path)}if("string"==typeof n){var a=t[r.scene+"/"+n]||t[n];return ln(e,t,a[e],a)}if("string"==typeof r.inherit){var u=r.inherit,c=t[r.scene+"/"+u]||t[u];return ln(e,t,c[e],c)}},ve=function(e){return function(t){return e().then(function(){return t})}},me=function(e,t,n){return!(!t[e]&&!n.options[e])&&(!(function(e){return e.getLocation().universal&&!b()&&"load"===e.getKind()}(n)&&!/onEnter|onError/.test(e))&&((!b()||!/onEnter|Leave/.test(e))&&be))},be={route:!0,options:!0},xe=function(e,t){var n=e.location;return t+"|"+e.type+"|"+e.basename+"|"+n.pathname+"|"+n.search},ge=[],we=function(e,t,n,r,i){return Promise.resolve(t(e)).then(function(t){return Oe(e,t,n,r,i)})},Oe=function(e,t,n,r,i){return!1!==t&&((null===t||t&&!t._dispatched)&&_e(n,e.options,i)?Promise.resolve(e.dispatch(t)):t)},_e=function(e,t,n){return n?t.autoDispatch===undefined||t.autoDispatch:e.autoDispatch!==undefined?e.autoDispatch:t.autoDispatch===undefined||t.autoDispatch},ke=function(e){var t=e.action,n=e.options,r=e.routes;var i=t.payload,o=i.routes,a=De(o,i.formatRoute||n.formatRoute,!0);(n.callbacks||[]).forEach(function(e){return he(e,a,n)}),Object.assign(r,a),t.payload.routes=a,t.payload.routesAdded=Object.keys(o).length,e.commitDispatch(t)},Pe=function(e){var t=e.action,n=e.dispatch;var r=(0,e.getLocation)();return n({type:r.type,params:r.params,query:r.query,state:r.state,hash:r.hash,basename:t.payload.basename})},je=function(e){var t=e.action.payload;e.cache.clear(t.invalidator,t.options)},Ae=function(e){var t=e.ctx,n=e.action;return e._dispatched=!0,t.confirm(n.payload.canLeave)};function Ee(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);e.length>t;t++)n[t]=e[t];return n}return Array.from(e)}var Se=function(e){var t=e.history,n=e.dispatch,r=e.action.payload;var i=r.method,o=r.args;return"set"===i?Ne(e,o):n(t[i].apply(t,Ee(o).concat([!1])))},Ne=function(e,t){var n=e.ctx,r=e.commitDispatch,i=e.history;if(n.pending&&!e.tmp.committed){if(!Re(t[0]))throw Error("[rudy] you can only set state on a previous url before enter");Object.assign(n.pending.action.location.prev.state,t[0].state)}var o=i.set.apply(i,Ee(t).concat([!1])),a=o.commit,u=function(e,t){var n={};for(var r in e)0>t.indexOf(r)&&Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(o,["commit"]);return r(u),u._dispatched=!0,a(u).then(function(){return u})},Re=function(e){return e.state&&1===Object.keys(e).length},De=function(e,t){var n=arguments.length>2&&arguments[2]!==undefined&&arguments[2],r=n?e:{};return n||(r.NOT_FOUND=e.NOT_FOUND||{path:"/not-found"},Object.assign(r,e),r[u]=e[u]||{thunk:ke,dispatch:!1},r[c]=e[c]||{thunk:Pe,dispatch:!1},r[f]=e[f]||{thunk:je},r[s]=e[s]||{thunk:Ae,dispatch:!1},r[a]=e[a]||{thunk:Se,dispatch:!1}),Object.keys(r).forEach(function(e){var i=Te(r[e],e,r,t,n);i.type=e,r[e]=i}),r},Te=function(e,t,n,r){var i=arguments.length>4&&arguments[4]!==undefined&&arguments[4],o="string"==typeof e?{path:e}:e;return r?r(o,t,n,i):"function"==typeof o?{thunk:o}:o},Le=function(e){var t=e.lastIndexOf("/");return e.substr(0,t)},Fe=("function"==typeof Symbol&&Symbol,function(){return Promise.resolve()}),Ue=function(e,t){return"function"==typeof t?t:t?function(e){return e[t]}:function(t){return t[e]}};var Ce=function(e){if(!e)return null;if(!e.location){var t=e.type,n=e.params,r=e.query,i=e.state,o=e.hash,a=e.basename,u=function(e,t){var n={};for(var r in e)0>t.indexOf(r)&&Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["type","params","query","state","hash","basename"]);return{type:t,params:n,query:r,state:i,hash:o,basename:a,location:He(u)}}return{...e,location:He({...e.location})}},He=function(e){return delete e.prev,delete e.from,delete e.blocked,delete e.universal,delete e.length,delete e.kind,delete e.entries,delete e.pop,delete e.status,delete e.direction,delete e.n,delete e.universal,delete e.ready,e},qe=function(e,t,n){return t?"load":n?e.replace("push","replace"):e},Ie=n(2),Be=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";return e?ze(Me(e)):""},Me=function(e){return"/"===e.charAt(0)?e:"/"+e},ze=function(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e},Qe=function(e){return i.a.parse(e,{decoder:$e})},$e=function(e,t){return Ge(e)?parseFloat(e):t(e)},Ge=function(e){return!isNaN(e)&&!isNaN(parseFloat(e))},Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ke=function(e,t,n,r){return t=(t=0===(t=Ve(t)?[t]:t).length?["/"]:t).map(function(t){return Z(e,t)}),n=n!==undefined?n:t.length-1,n=Math.min(Math.max(n,0),t.length-1),{n:r=r||We(n,t),index:n,entries:t}},We=function(e,t){return e>0?1:t.length>1?-1:1},Ve=function(e){return!Array.isArray(e)||"string"==typeof e[0]&&"object"===Ze(e[1])&&!e[1].type};var Je=function(e,t,n){return new Ye(e,t,n)},Ye=function dn(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,dn),Xe.call(this);var r=t.routes,i=t.options,o=t.ctx,a=!e.tmp,u=o.pending,c=(0,t.getLocation)(),f=r[e.type]||{},s=!!f.path,l="init"===c.kind?r[c.prev.type]||{}:r[c.type],d=this.tmp=e.tmp||{};delete e.tmp,d.load=d.load||e.location&&"load"===e.location.kind,o.busy=o.busy||s,s&&(u&&a&&(u.tmp.canceled=!0,u.tmp.revertPop&&u.tmp.revertPop()),o.pending=this),Object.assign(this,i.extra),Object.assign(this,e),Object.assign(this,t,{dispatch:this.dispatch}),this.action=e,this.ctx=o,this.route=f,this.prevRoute=l,this.error=null,this.scene=f.scene||"",this.realDispatch=t.dispatch,this.commitDispatch=n,this.commitHistory=e.commit,this.tmp.revertPop=this.tmp.revertPop||e.revertPop},Xe=function(){var e=this;this.enter=function(){return e.ctx.pending=!1,e.tmp.committed=!0,e.history.pendingPop=null,Promise.resolve(e.commitDispatch(e.action)).then(function(t){return e.commitHistory?e.commitHistory(e.action).then(function(){return t}):t})},this.dispatch=function(t){var n=e.realDispatch,r=e.routes[t&&t.type];((r||"function"==typeof t)&&(t.tmp=e.tmp,e.ctx.busy&&(t.tmp.from=e.tmp.from||e.action)),e.ctx.busy&&r&&r.path&&(!t.location||"set"!==t.location.kind))&&(t=h(t,t.location&&t.location.status||302));if("function"!=typeof t)if(e._start){if(e._start)return e.action.payload=t,Promise.resolve(t)}else t=e.populateAction(t,e);var i=e.getLocation().url;return Promise.resolve(n(t)).then(function(n){var r=i!==e.getLocation().url;return!e.ctx.serverRedirect&&(!r&&t.type!==a||n&&n.location&&"set"===n.location.kind)||(e.redirect=n),n&&(n._dispatched=!0),n})},this.confirm=function(){var t=0>=arguments.length||arguments[0]===undefined||arguments[0];if(delete e.ctx.confirm,!t)return e.realDispatch({type:d});var n=e.last,r=n.name,i=n.prev?e.prevRoute:e.route,o=i[r];return delete i[r],e.realDispatch(e.action).then(function(e){return i[r]=o,e&&(e._dispatched=!0),e})},this.block=function(){e.ctx.confirm=e.confirm;var t=Ce(e.action);return e.realDispatch({type:l,payload:{ref:t}})},this.getKind=function(){return e.tmp.load?"load":e.action.location&&e.action.location.kind},this.isUniversal=function(){return e.getLocation().universal},this.isDoubleDispatch=function(){return e.action.location.url===e.getLocation().url&&!/load|reset|jump/.test(e.getKind())},this.handleDoubleDispatch=function(){return e.ctx.pending=!1,e.history.pendingPop=null,e.tmp.from?(e.ctx.doubleDispatchRedirect=e.action,e.tmp.revertPop&&e.tmp.revertPop(),e.action):e.action},this.handleDoubleDispatchRedirect=function(t){var n=e.ctx.doubleDispatchRedirect;delete e.ctx.doubleDispatchRedirect,e.canceled=!0;var r=Ce(e.action.type===a?n.location.from:e.action);return e.realDispatch({type:p,payload:{ref:r}}),t!==undefined?t:n},this.populateAction=function(t){var n=void 0,r=v(t)?t:"string"==typeof t&&(n=e.isActionType(t))?{type:n}:{payload:t};return r.type=r.type||(e.tmp.committed?e.type+"_COMPLETE":e.type+"_DONE"),r},this.isActionType=function(t){return e.routes[t]?t:e.routes[e.scene+"/"+t]?t:/^[A-Z0-9_\/]+$/.test(t)?t:0===t.indexOf("@@")?t:void 0}};function et(e,t){var n={};for(var r in e)0>t.indexOf(r)&&Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var tt=function(e,t){return function(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:e,r=arguments[1],i=t[r.type],o=r.location;if(o&&"set"===o.kind){var a=r.location,c=et(a,["kind"]),f=et(r,["commit","location"]);return{...n,...f,...c}}if(i&&i.path&&(o.url!==n.url||/load|reset/.test(o.kind))){var s={type:r.type,params:r.params,query:r.query,state:r.state,hash:r.hash,basename:r.basename,universal:n.universal,...o};return!1===n.ready&&(s.ready=!0),s}if(r.type===u){var h=r.payload.routesAdded;return{...n,routesAdded:h}}if(r.type===p){var y=r.payload.ref;return{...n,from:y}}if(r.type===l){var v=r.payload.ref;return{...n,blocked:v}}if(r.type===d)return{...n,blocked:null};if(r.type.indexOf("_ERROR")>-1){var m=r.error,b=r.type;return{...n,error:m,errorType:b}}return r.type.indexOf("_COMPLETE")>-1?{...n,ready:!0}:r.type.indexOf("_START")>-1?{...n,ready:!1}:n}},nt=function(e){var t=e.location,n=e.type,r=t.entries,i=t.index,o=t.length,a=t.n;return{kind:"init",direction:-1===a?"backward":"forward",n:a,type:n,params:e.params,query:e.query,state:e.state,hash:e.hash,basename:e.basename,url:t.url,pathname:t.pathname,search:t.search,key:t.key,scene:t.scene,prev:rt(t),from:null,blocked:null,entries:r,index:i,length:o,universal:b(),pop:!1,status:m(n)?404:200}},rt=function(e){var t=e.index+-1*e.n,n=e.entries[t];return n?{...n,location:{...n.location,index:t}}:it()},it=function(){return{type:"",params:{},query:{},state:{},hash:"",basename:"",location:{url:"",pathname:"",search:"",key:"",scene:"",index:-1}}},ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},at=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ut=function(){function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.routes=t,this.options=n,n.basenames=(n.basenames||[]).map(function(e){return Be(e)});var r=this._restore(),i=r.index,o=r.entries;this.firstAction=this._notify(o[i],{kind:"load",n:r.n,index:i,entries:o},function(){},!1)}return at(e,[{key:"listen",value:function(e,t){var n=this;return this.dispatch=e,this.getLocation=t,function(){return n.unlisten()}}},{key:"unlisten",value:function(){this.dispatch=null}},{key:"_notify",value:function(e,t,n){var r=3>=arguments.length||arguments[3]===undefined||arguments[3],i=arguments[4],o=t.index,a=t.n||(o>this.index?1:o===this.index?this.n:-1),u=t.entries.length;return e={...e,...i,commit:this._once(n),location:{...e.location,...t,length:u,n:a}},r&&this.dispatch?this.dispatch(e):e}},{key:"push",value:function(e){var t=this,n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:e.state||{},r=2>=arguments.length||arguments[2]===undefined||arguments[2],i=Z(this,e,n),o=this._findAdjacentN(i);if(o)return this.jump(o,!1,undefined,{state:n},r);var a=-1===o?"back":1===o?"next":"push",u=-1===o?this.index-1:this.index+1,c=this._pushToFront(i,this.entries,u,a),f=this.url;return this._notify(i,{kind:a,index:u,entries:c},function(e){return t._push(e,f)},r)}},{key:"replace",value:function(e){var t=this,n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:e.state||{},r=2>=arguments.length||arguments[2]===undefined||arguments[2],i=Z(this,e,n),o=this._findAdjacentN(i);if(o)return this.jump(o,!1,undefined,{state:n},r);var a=-1===o?"back":1===o?"next":"replace",u=this.index,c=this.entries.slice(0),f={kind:a,entries:c,index:u},s=this.url;return c[u]=i,this._notify(i,f,function(e){return t._replace(e,s)},r)}},{key:"jump",value:function(e){var t=arguments.length>1&&arguments[1]!==undefined&&arguments[1],n=arguments[2],r=arguments[3],i=this,o=4>=arguments.length||arguments[4]===undefined||arguments[4],a=arguments[5];e=this._resolveDelta(e,t),n=n||(0>e?-1:1);var u=-1===e?"back":1===e?"next":"jump",c="jump"!==u,f=!!a,s=this.index+e,l=this.entries.slice(0);if(!this.entries[s])throw Error("[rudy] jump() - no entry at index: "+s+".");var d=l[s]=this._transformEntry(this.entries[s],r),p={kind:u,index:s,entries:l,n:n},h=this._createPrev(p,c&&this.entries[this.index]),y=this.url,v=this.entries[s].location.url;return this._notify(d,p,function(t){return i._jump(t,y,v,e,f)},o,{prev:h,revertPop:a})}},{key:"back",value:function(e){var t=1>=arguments.length||arguments[1]===undefined||arguments[1];return this.jump(-1,!1,-1,{state:e},t)}},{key:"next",value:function(e){var t=1>=arguments.length||arguments[1]===undefined||arguments[1];return this.jump(1,!1,1,{state:e},t)}},{key:"set",value:function(e,t){var n=this,r=arguments.length>2&&arguments[2]!==undefined&&arguments[2],i=3>=arguments.length||arguments[3]===undefined||arguments[3];t=this._resolveDelta(t,r);var o=this.index,a=this.index+t,u=this.entries.slice(0);if(!this.entries[a])throw Error("[rudy] set() - no entry at index: "+a);var c=u[a]=this._transformEntry(this.entries[a],e),f=0===t?c:Ce(this.location),s={kind:"set",index:o,entries:u},l=0===t?this.url:this.entries[a].location.url;return a===this.location.prev.location.index&&(f.prev={...c,location:{...c.location,index:a}}),this._notify(f,s,function(e){return n._set(e,l,t)},i)}},{key:"replacePop",value:function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=this,r=2>=arguments.length||arguments[2]===undefined||arguments[2],i=arguments[3],o=Z(this,e,t),a=i.index,u=i.prevUrl,c=i.n,f=i.entries.slice(0),s={kind:this.index>a?"back":"next",entries:f,index:a};return f[a]=o,this._notify(o,s,function(e){return n._replace(e,u,c)},r)}},{key:"reset",value:function(e,t,n){var r=this,i=3>=arguments.length||arguments[3]===undefined||arguments[3];if(1===e.length){var o=this._findResetFirstAction(e[0]);e.unshift(o)}t=t!==undefined?t:e.length-1;var a=Ke(this,e,t,n=n||(t!==e.length-1?t>this.index?1:t===this.index?this.n:-1:1)),u=a.index,c=a.entries,f={...c[u]},s={kind:"reset",index:u,entries:c,n:n},l=this.url,d=this.entries[0].location.url,p=-this.index;if(!c[u])throw Error("[rudy] no entry at index: "+u+".");var h=this._createPrev(s),y=u===this.index&&Ce(this.location);return this._notify(f,s,function(e){return r._reset(e,l,d,p)},i,{prev:h,from:y})}},{key:"canJump",value:function(e,t){return e=this._resolveDelta(e,t),!!this.entries[this.index+e]}},{key:"_transformEntry",value:function(e,t){if(e={...e},"function"==typeof t)return Z(this,t(e));t=v(t)?t:{state:t};var n=t.params,r=t.query,i=t.state,o=t.hash,a=t.basename;return n&&(n="function"==typeof n?n(e.query):n,e.params={...e.params,...n}),r&&(r="function"==typeof r?r(e.query):r,e.query={...e.query,...r}),i&&(i="function"==typeof i?i(e.state):i,e.state={...e.state,...i}),o&&(o="function"==typeof o?o(e.hash):o,e.hash=o),a&&(a="function"==typeof a?a(e.basename):a,e.basename=a),Z(this,e)}},{key:"_createPrev",value:function(e,t){var n=e.index-e.n,r=t||e.entries[n];if(!r)return it();var i=this.routes[r.type].scene||"",o={...r,location:{...r.location,index:n,scene:i}};return Ce(o)}},{key:"_findResetFirstAction",value:function(e){var t=this.routes,n=this.options;if(n.resetFirstEntry)return"function"==typeof n.resetFirstEntry?n.resetFirstEntry(e):n.resetFirstEntry;if("object"===(void 0===e?"undefined":ot(e))&&e.type){if("/"!==t[e.type].path){var r=Object.keys(t).find(function(e){return"/"===t[e].path});return r?{type:r}:{type:"NOT_FOUND"}}return{type:"NOT_FOUND"}}var i=t.NOT_FOUND.path;return"/"!==(Array.isArray(e)?e[0]:e)&&Object.keys(t).find(function(e){return"/"===t[e].path})?"/":i}},{key:"_once",value:function(e){var t=this,n=!1;return function(r){return n?Promise.resolve():(n=!0,Promise.resolve(e(r)).then(function(){t.options.save&&t.options.save(t.location)}))}}},{key:"_findAdjacentN",value:function(e){return this._findBackN(e)||this._findNextN(e)}},{key:"_findBackN",value:function(e){var t=this.entries[this.index-1];return t&&t.location.url===e.location.url&&-1}},{key:"_findNextN",value:function(e){var t=this.entries[this.index+1];return t&&t.location.url===e.location.url&&1}},{key:"_pushToFront",value:function(e,t,n){var r=t.slice(0);r.length>n?r.splice(n,r.length-n,e):r.push(e);return r}},{key:"_resolveDelta",value:function(e,t){return"string"==typeof e?this.entries.findIndex(function(t){return t.location.key===e})-this.index:t?e-this.index:e||0}},{key:"_restore",value:function(){return Ke(this)}},{key:"_push",value:function(){}},{key:"_replace",value:function(){}},{key:"_jump",value:function(){}},{key:"_set",value:function(){}},{key:"_reset",value:function(){}},{key:"location",get:function(){return this.getLocation()}},{key:"entries",get:function(){return this.location.entries}},{key:"index",get:function(){return this.location.index}},{key:"url",get:function(){return this.location.url}},{key:"n",get:function(){return this.location.n}},{key:"prevUrl",get:function(){return this.location.prev.location.url}}]),e}(),ct=void 0,ft=function(){if(ct!==undefined)return ct;if("undefined"==typeof window)return!1;var e=window.navigator.userAgent;return ct=(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},st=void 0,lt=function(){if(st!==undefined)return st;if("undefined"==typeof window)return st=!1;try{return window.sessionStorage.setItem("hasStorage","yes"),st="yes"===window.sessionStorage.getItem("hasStorage")}catch(e){return st=!1}},dt=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},pt=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},ht=function(){return-1===window.navigator.userAgent.indexOf("Trident")},yt=function(e,t){var n=e.index,r=e.entries;r=r.map(function(e){return[e.location.url,e.state,e.location.key]}),mt({index:n,entries:r,out:t})},vt=function(e){var t=bt()||St();return Nt(t,e)},mt=function(e){return lt()?jt(e):wt(e)},bt=function(){return lt()?At():Ot()},xt=function(e){return window.history.pushState({id:kt()},null,e)},gt=function(e){return window.history.replaceState({id:kt()},null,e)},wt=function(e){return window.history.replaceState(e,null)},Ot=function(){var e=Rt();return e.entries&&e},_t=void 0,kt=function(){return _t=_t||Et()},Pt=function(){return"@@rudy/"+kt()},jt=function(e){return window.sessionStorage.setItem(Pt(),JSON.stringify(e))},At=function(){try{var e=window.sessionStorage.getItem(Pt());return JSON.parse(e)}catch(t){}return null},Et=function(){if(!ft()||!lt())return"id";var e=Rt();return e.id||(e.id=Math.random().toString(36).substr(2,6),wt(e)),e.id},St=function(){var e=window.location;return{n:1,index:0,entries:[e.pathname+e.search+e.hash]}},Nt=function(e,t){var n=e.entries,r=e.index,i=r>0||e.out?n.slice(0,r+1):n;return Ke(t,i,r)},Rt=function(){try{return window.history.state||{}}catch(e){}return{}},Dt=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=undefined;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){i=!0,o=c}finally{try{!r&&u["return"]&&u["return"]()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Tt=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Lt=function pn(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);return null===i?undefined:pn(i,t,n)}if("value"in r)return r.value;var o=r.get;return o===undefined?undefined:o.call(n)};var Ft=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,ut),Tt(t,[{key:"_restore",value:function(){return this.options.restore=this.options.restore||vt,this.options.save=this.options.save||yt,this._setupPopHandling(),this.options.restore(this)}},{key:"listen",value:function(e,n){var r=this;return this.dispatch||(Lt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this,e,n),this._addPopListener()),function(){return r.unlisten()}}},{key:"unlisten",value:function(){this._removePopListener(),Lt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"unlisten",this).call(this)}},{key:"_didPopForward",value:function(e){var t=this.entries[this.index+1];return t&&t.location.url===e}},{key:"_setupPopHandling",value:function(){var e=this,t=function(){if(e._popForced)return e._popForced=!1;var t=window.location,n=t.pathname+t.search+t.hash,r=void 0;if(e.pendingPop)return e._forceGo(n===e.url?-1*(r=-1*e.pendingPop):-1*(r=e.pendingPop));r=e._didPopForward(n)?1:-1,e.pendingPop=r;var i=!1;e.currentPop=e.jump(r,!1,r,null,!0,function(){i||e._forceGo(-1*r),i=!0})},n=function(e){return!(e.state===undefined&&-1===navigator.userAgent.indexOf("CriOS"))&&t()},r=t;this._addPopListener=function(){return e=n,t=r,i=!ht(),dt(window,"popstate",e),void(i&&dt(window,"hashchange",t));var e,t,i},this._removePopListener=function(){return e=n,t=r,i=!ht(),pt(window,"popstate",e),void(i&&pt(window,"hashchange",t));var e,t,i}}},{key:"_forceGo",value:function(e){return this._popForced=!0,window.history.go(e),Promise.resolve()}},{key:"_push",value:function(e,t){var n=e.location.url;return this._awaitUrl(t,"_push").then(function(){return xt(n)})}},{key:"_replace",value:function(e,t,n){var r=e.location.url;return n?(this._forceGo(n),this._awaitUrl(t,"_replaceBackNext").then(function(){return gt(r)})):("load"===this.location.kind&&(t=K(window.location)),this._awaitUrl(t,"_replace").then(function(){return gt(r)}))}},{key:"_jump",value:function(e,t,n,r,i){var o=this;return r?i?void 0:this._awaitUrl(t,"jump prev").then(function(){return o._forceGo(r)}).then(function(){return o._awaitUrl(n,"jump loc")}).then(function(){return o._replace(e,n)}):this._replace(e,t)}},{key:"_set",value:function(e,t,n){var r=this;if(!n)return this._replace(e,t);var i=e.location,o=i.entries[i.index+n];return this._awaitUrl(e,"_setN start").then(function(){return r._forceGo(n)}).then(function(){return r._awaitUrl(t,"_setN before replace")}).then(function(){return r._replace(o,t)}).then(function(){return r._forceGo(-n)}).then(function(){return r._awaitUrl(e,"setN return")})}},{key:"_reset",value:function(e,t,n,r){var i=this,o=e.location,a=o.index,u=o.entries,c=a-(u.length-1),f=u[a].location.url;return this._awaitUrl(t,"reset oldUrl").then(function(){return i._forceGo(r)}).then(function(){return i._awaitUrl(n,"reset oldFirstUrl")}).then(function(){if(gt(u[0].location.url),u.slice(1).forEach(function(e){return xt(e.location.url)}),c)return i._forceGo(c).then(function(){return i._awaitUrl(f,"resetIndex _forceGo")})})}},{key:"_awaitUrl",value:function(e,t){var n=this;return new Promise(function(r){var i="string"==typeof e?e:e.location.url;return Ht(function(){return console.log("ready",i,K(window.location)),i===K(window.location)},r,t,n)})}}]),t}(),Ut=0,Ct=[],Ht=function(e,t,n){0===Ut?qt(e,t,n):Ct.push([e,t,n])},qt=function hn(e,t,n){if(Ut++,!e()&&10>Ut)console.log("tries",Ut+1,n),setTimeout(function(){return hn(e,t,n)},9);else{0,t(),Ut=0;var r=Ct.shift()||[],i=Dt(r,3),o=i[0];o&&hn(o,i[1],i[2])}},It=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Bt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,ut),It(t,[{key:"_restore",value:function(){var e=this.options,t=e.initialIndex,n=e.initialEntries,r=e.initialN,i=lt()&&!1!==e.testBrowser;return e.restore=e.restore||i&&vt,e.save=e.save||i&&yt,e.restore?e.restore(this):Ke(this,n,t,r)}}]),t}(),Mt=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return"undefined"!=typeof window&&window.document&&window.document.createElement&&ft()&&!1!==t.testBrowser?new Ft(e,t):new Bt(e,t)},zt=function(e,t){var n=arguments.length>2&&arguments[2]!==undefined&&arguments[2];if("function"==typeof e)return e(t,n);var r=t?e.map(function(e){return e(t)}):e;return function(e){var t=-1,i=void 0;return function(a){for(var u=arguments.length,c=Array(u>1?u-1:0),f=1;u>f;f++)c[f-1]=arguments[f];if(e.redirect!==undefined&&n){var s=0===a&&i!==undefined&&i;return Promise.resolve(s)}if(e.tmp.canceled){var l=0===a&&i!==undefined&&i;return e.history.canceled=e.action,Promise.resolve(l)}if(t>=a)return Promise.reject(Error("next() called multiple times"));t=a;var d=r[a];if(!d)return Promise.resolve(i);try{var p=Promise.resolve(d.apply(undefined,[e,function(){for(var u=arguments.length,c=Array(u),f=0;u>f;f++)c[f]=arguments[f];return Promise.resolve(function(a){for(var u=arguments.length,c=Array(u>1?u-1:0),f=1;u>f;f++)c[f-1]=arguments[f];if(e.redirect!==undefined&&n){var s=0===a&&i!==undefined&&i;return Promise.resolve(s)}if(e.tmp.canceled){var l=0===a&&i!==undefined&&i;return e.history.canceled=e.action,Promise.resolve(l)}if(t>=a)return Promise.reject(Error("next() called multiple times"));t=a;var d=r[a];if(!d)return Promise.resolve(i);try{var p=Promise.resolve(d.apply(undefined,[e,function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return Promise.resolve(o.apply(undefined,[a+1].concat(t)))}].concat(c)));return p.then(function(t){if(t&&delete t._dispatched,e.redirect!==undefined&&n)return i=i!==undefined?i:t===e.action?e.redirect:t!==undefined?t:e.redirect;if(!1===t&&!e.tmp.committed){var r=e.ctx.pending!==e;e.ctx.pending=!!r&&e.ctx.pending,e.tmp.revertPop&&e.tmp.revertPop()}return i=i!==undefined?i:t,0===a?i:t})}catch(h){return Promise.reject(h)}}.apply(undefined,[a+1].concat(c)))}].concat(c)));return p.then(function(t){if(t&&delete t._dispatched,e.redirect!==undefined&&n)return i=i!==undefined?i:t===e.action?e.redirect:t!==undefined?t:e.redirect;if(!1===t&&!e.tmp.committed){var r=e.ctx.pending!==e;e.ctx.pending=!!r&&e.ctx.pending,e.tmp.revertPop&&e.tmp.revertPop()}return i=i!==undefined?i:t,0===a?i:t})}catch(h){return Promise.reject(h)}}(0);function o(a){for(var u=arguments.length,c=Array(u>1?u-1:0),f=1;f<u;f++){c[f-1]=arguments[f]}if(e.redirect!==undefined&&n){var s=a===0&&i!==undefined?i:false;return Promise.resolve(s)}if(e.tmp.canceled){var l=a===0&&i!==undefined?i:false;e.history.canceled=e.action;return Promise.resolve(l)}if(a<=t){return Promise.reject(new Error("next() called multiple times"))}t=a;var d=r[a];if(!d)return Promise.resolve(i);try{var p=function t(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++){t[n]=arguments[n]}return Promise.resolve(o.apply(undefined,[a+1].concat(t)))};var h=Promise.resolve(d.apply(undefined,[e,p].concat(c)));return h.then(function(t){if(t){delete t._dispatched}if(e.redirect!==undefined&&n){return i=i!==undefined?i:t===e.action?e.redirect:t!==undefined?t:e.redirect}if(t===false&&!e.tmp.committed){var r=e.ctx.pending!==e;e.ctx.pending=r?e.ctx.pending:false;if(e.tmp.revertPop)e.tmp.revertPop()}i=i!==undefined?i:t;return a===0?i:t})}catch(y){return Promise.reject(y)}}}};var Qt=function(e){var t=e.action,n=e.history,r=e.getLocation,i=e.tmp,o=e.commitHistory?{url:t.location.url,state:t.state}:w(t,e,e.prevRoute),a=o.url,u=o.state,c=x(t),f=c&&(i.committed||!i.from||i.load),s=t.location&&t.location.status,l=r(),d=f?"replace":"push",p=void 0,h=void 0;if(!i.committed&&i.from&&(h=Zt(i.from,l))&&(d="replacePop",p=$t(h,a,l,i)),!e.commitHistory||"replacePop"===d){var y=n[d](a,u,!1,p),v=y.commit,b=function(e,t){var n={};for(var r in e)0>t.indexOf(r)&&Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(y,["commit"]);e.commitHistory=v,e.action=b}var g=e.action.from||(c?i.from||l:undefined);return function(e,t,n,r){var i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{},o=e.location,a=e.type,u=e.basename,c=e.params,f=e.query,s=e.state,l=e.hash,d=o.entries,p=o.index,h=o.length,y=o.pathname,v=o.search,b=o.url,x=o.key,g=o.scene,w=o.n,O=Ce(t),_=Ce(n);return{type:a,params:c,query:f,state:s,hash:l,basename:u,location:{kind:qe(o.kind,i.load,_),direction:-1===w?"backward":"forward",n:w,url:b,pathname:y,search:v,key:x,scene:g,prev:O,from:_,blocked:null,entries:d,index:p,length:h,pop:!!i.revertPop,status:_?r||302:m(a)?404:200}}}(e.action,e.action.prev||(i.load||f?l.prev:l),g,s,i)},$t=function(e,t,n,r){var i=r.from.location,o=i.entries,a=i.index;if(!Gt(t,n,e))return{n:e=r.revertPop?null:e,entries:o,index:a,prevUrl:r.from.location.url};var u=a+e;return{n:e=r.revertPop?e:2*e,entries:o,index:u,prevUrl:o[u].location.url}},Gt=function(e,t,n){var r=t.entries[t.index+2*n];return r&&r.location.url===e},Zt=function(e,t){var n=t.entries,r=t.index,i=n[r-1];if(i&&i.location.url===e.location.url)return-1;var o=n[r+1];return o&&o.location.url===e.location.url?1:void 0},Kt=function(){return function(e,t){if(!e.route.path)return t();if(e.action=Qt(e),e.isDoubleDispatch())return e.handleDoubleDispatch();var n=e.action;return Object.assign(e,{type:n.type,params:n.params,query:n.query,state:n.state,hash:n.hash,basename:n.basename,location:n.location}),t().then(function(){return e.action})}},Wt=undefined;var Vt=function(e){return t=regeneratorRuntime.mark(function r(t,n){var i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!t.route.redirect){r.next=2;break}return r.abrupt("return",(void 0,void 0,void 0,(0,(o=t).dispatch)(h({...o.action,type:o.routes[c=(a=o.route).scene+"/"+(u=a.redirect)]?c:u},301))));case 2:if(i=t.enter(),"load"!==t.getKind()||b()||!e.resolveFirstRouteOnEnter){r.next=7;break}return setTimeout(function(){n().then(function(){t.ctx.busy=!1})},0),t.clientLoadBusy=!0,r.abrupt("return",i);case 7:return r.abrupt("return",i.then(n).then(function(){return i}));case 8:case"end":return r.stop()}var o,a,u,c},r,Wt)}),n=function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(i,o){try{var a=e[i](o),u=a.value}catch(c){return void n(c)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});t(u)}("next")})},function(e,t){return n.apply(this,arguments)};var t,n},Jt=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=undefined;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){i=!0,o=c}finally{try{!r&&u["return"]&&u["return"]()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Yt=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return function(n){var r=t.cache,i=r!==undefined&&r,o=t.prev,a=o!==undefined&&o,u=t.skipOpts,c=u!==undefined&&u,f=t.start,s=f!==undefined&&f;return he(e,n.routes,n.options),n.options.callbacks=n.options.callbacks||[],n.options.callbacks.push(e),n.options.shouldCall=n.options.shouldCall||me,i&&(n.cache=function(e,t,n){if(n.prev)throw Error("[rudy] call('"+t+"') middleware 'cache' option cannot be used with 'prev' option");if(ge.push(t),e.cache)return e.cache;var r=e.options.createCacheKey,i=r===undefined?xe:r,o=n.cacheStorage=n.cacheStorage||{};return{isCached:function(e,t,n){if(b())return!1;if(!t.path||!1===t.cache)return!1;if(!1===n.options.cache&&t.cache===undefined)return!1;var r=i(n.action,e);return"load"===n.getKind()&&n.isUniversal()&&(o[r]=!0),!!o[r]},cacheAction:function(e,t){var n=i(t,e);return o[n]=!0,n},clear:function(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(t)if("function"==typeof t){var r=t(o,e,n);if(r){for(var a in o)delete o[a];Object.assign(o,r)}}else if("string"==typeof t)for(var u in o)u.indexOf(t)>-1&&delete o[u];else{var c=Z(e,t);(n.name===undefined?ge:[].concat(n.name)).forEach(function(e){var t=i(c,e);delete o[t]})}else for(var f in o)delete o[f]}}}(n,e,t)),function(r){var o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Fe,u=a?r.prevRoute:r.route;if(i&&n.cache.isCached(e,u,r))return o();var f=r.options.shouldCall(e,u,r,t);if(!f)return o();var l=f.route&&u[e]||Fe,d=f.options&&!c&&r.options[e]||Fe;if(s){var p={...r.action,type:r.type+"_START"};r.commitDispatch(p),r._start=!0}return Promise.all([we(r,l,u,e),we(r,d,u,e,!0)]).then(function(t){var n=Jt(t,2),u=n[0],c=n[1];if(r._start=!1,Xt(u,c))return r.last={name:e,prev:a},r.tmp.committed||r.block(),!1;if(r.ctx.doubleDispatchRedirect){var f=u!==undefined?u:c;return r.handleDoubleDispatchRedirect(f)}u&&delete u._dispatched,c&&delete c._dispatched,i&&r.cache.cacheAction(e,r.action);var s=u!==undefined?u:c;return o().then(function(){return s})})}}},Xt=function(e,t){return!1===e||!1===t},en=function(e,t){return t.find(function(t){return"function"==typeof e[t]})},tn=function(e){var t=e.options,n=t.shouldTransition;return t.shouldTransition=function(e,t){return"function"==typeof e||n(e,t)},function(e,t){return"function"!=typeof e.action?t():Promise.resolve((0,e.action)(e)).then(function(t){return t&&!t._dispatched?e.dispatch(t):t})}},nn=function(e){return function(t,n){if(b()&&x(t.action)){var r=t.action,i=w(r,e);return r.url=r.location.url=i.url,r.status=r.location.status||302,t.ctx.serverRedirect=!0,r}return n()}},rn=undefined;var on=function(e){return t=regeneratorRuntime.mark(function r(e,t){var n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.getTitle(),b()||"string"!=typeof n||(window.document.title=n),r.abrupt("return",t());case 3:case"end":return r.stop()}},r,rn)}),n=function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(i,o){try{var a=e[i](o),u=a.value}catch(c){return void n(c)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});t(u)}("next")})},function(e,t){return n.apply(this,arguments)};var t,n},an=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[nn,tn,function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(e){t[0]=t[0]||"thunk",t[1]=t[1]||"onComplete";var n=t.map(function(e){return Yt(e,{skipOpts:!0})}),r=e.options.compose(n,e);return e.register("pathlessRoute"),function(e,n){var i=e.route;return i&&!i.path&&en(i,t)?(!1!==i.dispatch&&(e.action=e.commitDispatch(e.action)),r(e).then(function(t){return t||e.action})):n()}}}("thunk"),Kt,Yt("beforeLeave",{prev:!0}),Yt("beforeEnter"),Vt,on,Yt("onLeave",{prev:!0}),Yt("onEnter"),Yt("thunk",{cache:!0}),Yt("onComplete")],r=t.location,o=t.title,a=t.formatRoute,u=t.createHistory,c=u===undefined?Mt:u,f=t.createReducer,s=f===undefined?tt:f,l=t.createInitialState,d=l===undefined?nt:l,p=t.onError;t.shouldTransition=t.shouldTransition||J,t.createRequest=t.createRequest||Je,t.compose=t.compose||zt,t.onError=void 0!==p?p:Ie.a,t.parseSearch=t.parseSearch||Qe,t.stringifyQuery=t.stringifyQuery||i.a.stringify;var h=De(e,a),y=Ue("location",r),v=Ue("title",o),m=c(h,t),b=m.firstAction,x=s(d(b),h),g={},w={routes:h,history:m,options:t,register:function(e){var t=1>=arguments.length||arguments[1]===undefined||arguments[1];return g[e]=t},has:function(e){return g[e]},ctx:{busy:!1}},O=Yt("onError")(w),_=t.compose(n,w,!0);return{...w,middleware:function(e){var n=e.dispatch,r=e.getState,i=function(e){return y(e||r()||{})},o=t.shouldTransition,a=t.createRequest;return Object.assign(w,{getTitle:function(){return v(r()||{})},getLocation:i,dispatch:n,getState:r}),r.rudy=w,m.listen(n,i),function(e){return function(n){if(!o(n,w))return e(n);if(n.tmp&&n.tmp.canceled)return Promise.resolve(n);var r=a(n,w,e),i=r.route.middleware;return(i?t.compose(i,w,!!r.route.path):_)(r)["catch"](function(e){if(t.wallabyErrors)throw e;return r.error=e,r.errorType=r.action.type+"_ERROR",O(r)}).then(function(e){var t=r.ctx;return t.busy=!(r.route.path&&!r.tmp.canceled&&!r.clientLoadBusy)&&t.busy,e})}}},reducer:x,firstRoute:function(){var e=0>=arguments.length||arguments[0]===undefined||arguments[0];return w.resolveFirstRouteOnEnter=e,b}}},un=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:(?:1ST|2ND|3RD|(?![123])\dTH)\b)|\d*(?:(?:1st|2nd|3rd|(?![123])\dth)\b)|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g;function cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fn=function(e,t,n,r){var i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:[],o="function"==typeof e[n]?e[n]:null,a=function u(o,a){var c;if("function"==typeof o){var f=o;return function(){return u(f.apply(undefined,arguments),"isThunk")}}if("isThunk"!==a||o!==undefined){if("isThunk"===a&&o&&o.then)return o;if(m(t)){var s=y(o,t);return r&&(s.basename=r),s}if("error"===n)return function(e,t,n){return e&&e.error?{type:t,basename:n,...e}:{type:t,basename:n,error:e}}(o,o&&o.type||t,r);if(v(o))return{type:t,basename:r,...o};var l=i.includes(n)||!e.path?"payload":"params";return cn(c={type:t},l,o||{}),cn(c,"basename",r),c}};return o?function(){return a(o.apply(undefined,arguments))}:a};var sn=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=t.basename,r=t.formatRoute,i=t.subtypes,o=i===undefined?[]:i,a=t.scene||"",u=a?a+"/":"",c=Object.keys(e),f=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);e.length>t;t++)n[t]=e[t];return n}return Array.from(e)}(o),["start","complete","error","done"]),s=c.reduce(function(t,i){var o=t.types,a=t.actions,c=t.routes,s=""+u+i,l=""+u+i+"_COMPLETE",d=""+u+i+"_ERROR";c[s]=function(e,t,n,r){var i=Te(e,t,n,r);return i.scene=Le(t),!i.path&&m(t)&&(i.path=i.scene?"/"+e.scene.toLowerCase()+"/not-found":"/not-found"),i}(e[i],s,e,r);var p=c[s],h=p.scene?s.replace(p.scene+"/",""):i,y=function(e){var t=e.match(un);if(!Array.isArray(t))throw Error("[rudy] invalid action type: "+e);return t.reduce(function(e,t,n){return e+(0===n?t.toLowerCase():t.charAt(0).toUpperCase()+t.substring(1).toLowerCase())},"")}(h);(o[h]=s,o[h+"_COMPLETE"]=l,o[h+"_ERROR"]=d,Array.isArray(p.action))?(a[y]=fn(p,s,p.action[0],n),p.action.forEach(function(e){a[y][e]=fn(p,s,e,n)})):a[y]=fn(p,s,"action",n);return f.forEach(function(e){var t="_"+e.toUpperCase(),r=""+u+i+t;o[""+h+t]=r,a[y][e]=fn(p,r,e,n,f)}),t},{types:{},actions:{},routes:{}});return s};n.d(t,"createRouter",function(){return an}),n.d(t,"createScene",function(){return sn})}])});